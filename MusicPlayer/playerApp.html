<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Player App</title>
  <link rel="stylesheet" href="playerApp.css">
  <link rel="shortcut icon" href="images/music.png" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Poppins:wght@400&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/3cff0df57f.js" crossorigin="anonymous"></script>
</head>
<body>
  <div class="shape-one"></div>
  <div class="shape-two"></div>

  <div class="container">
    <div class="music-player">
      <nav>
        <div class="circle"><i class="fa-solid fa-angle-left"></i></div>
        <div class="circle"><i class="fa-solid fa-bars"></i></div>
      </nav>

      <img src="images/Billie_Eilish.webp" class="song-img" id="songImg">
      <h1 id="songTitle">Song Title</h1>
      <p id="songArtist">Song Artist</p>

      <audio id="song">
        <source src="images/BIRDS OF A FEATHER - Billie Eilish.mp3" type="audio/mp3">
      </audio>

      <input type="range" value="0" id="progress">

      <div class="control">
        <div id="prev"><i class="fa-solid fa-backward"></i></div>
        <div onclick="playPause()"><i class="fa-solid fa-pause" id="ctrIcon"></i></div>
        <div id="next"><i class="fa-solid fa-forward"></i></div>
      </div>
    </div>
  </div>

  <div class="footer">Made by <span>TemplateName</span></div>

  <script>
    // === MUSIC PLAYER SCRIPT ===

    let songs = [
      {
        title: "BIRDS OF A FEATHER",
        artist: "Billie Eilish",
        src: "images/BIRDS OF A FEATHER - Billie Eilish.mp3",
        img: "images/Billie_Eilish.webp"
      },
      {
        title: "Lovely",
        artist: "Billie Eilish ft. Khalid",
        src: "images/Billie Ellish, Khaild- Lovely.mp3",
        img: "images/billie_eilish_feat_khalid_lovely.jpg"
      },
      {
        title: "Goo Goo Dolls",
        artist: "Iris",
        src: "images/Goo Goo Dolls - Iris (Lyrics).mp3",
        img: "images/goo goo dolls.jpg"
      }
    ];

    let song = document.getElementById("song");
    let progress = document.getElementById("progress");
    let ctrIcon = document.getElementById("ctrIcon");
    let songImg = document.getElementById("songImg");
    let songTitle = document.getElementById("songTitle");
    let songArtist = document.getElementById("songArtist");

    let currentSong = 0;

    // === LOAD SONG FUNCTION ===
    function loadSong(index) {
      let s = songs[index];
      song.src = s.src;
      songTitle.textContent = s.title;
      songArtist.textContent = s.artist;
      songImg.src = s.img;
      progress.value = 0;
      song.load();
      playSong();
    }

    // === PLAY FUNCTION ===
    function playSong() {
      song.play();
      ctrIcon.classList.remove("fa-play");
      ctrIcon.classList.add("fa-pause");
      songImg.classList.add("spin");
    }

    // === PAUSE FUNCTION ===
    function pauseSong() {
      song.pause();
      ctrIcon.classList.remove("fa-pause");
      ctrIcon.classList.add("fa-play");
      songImg.classList.remove("spin");
    }

    // === PLAY / PAUSE TOGGLE ===
    function playPause() {
      if (song.paused) {
        playSong();
      } else {
        pauseSong();
      }
    }

    // === UPDATE PROGRESS BAR ===
    song.onloadedmetadata = function() {
      progress.max = song.duration;
      progress.value = song.currentTime;
    }

    if (song.play()) {
      setInterval(() => {
        progress.value = song.currentTime;
      }, 500);
    }

    progress.onchange = function() {
      song.currentTime = progress.value;
      playSong();
    }

    // === NEXT / PREVIOUS SONG ===
    document.getElementById("next").onclick = function() {
      currentSong = (currentSong + 1) % songs.length;
      loadSong(currentSong);
    }

    document.getElementById("prev").onclick = function() {
      currentSong = (currentSong - 1 + songs.length) % songs.length;
      loadSong(currentSong);
    }

    // Auto play next song when one ends
    song.addEventListener("ended", function() {
      currentSong = (currentSong + 1) % songs.length;
      loadSong(currentSong);
    });
  </script>
</body>
</html>
